(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{1172:function(e,t,n){"use strict";n.r(t),n.d(t,"DEFAULT_FILTER_OPTIONS",function(){return s}),n.d(t,"default",function(){return a}),n.d(t,"REDUCER_NAME",function(){return c});var r=n(10),o=n.n(r),i=n(1),s={status:"all",genres:{},rank:"all",order:"rank"};function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{lastFetched:null,isLoading:!1,optionChanged:!0,error:null,allItems:[],options:s,currentItems:[],code:0},t=arguments[1];switch(t.type){case i.x:return o()(e,{isLoading:{$set:!0},optionChanged:{$set:!1},error:{$set:null}});case i.y:return o()(e,{allItems:{$set:t.body.data},currentItems:{$set:[]},isLoading:{$set:!1},lastFetched:{$set:t.lastFetched},error:{$set:null}});case i.w:return o()(e,{isLoading:{$set:!1},error:{$set:t.error}});case i.Bd:return JSON.stringify(e.options)!==JSON.stringify(t.options)?o()(e,{options:{$set:t.options},optionChanged:{$set:!0}}):e;case i.dc:var n=e.allItems.slice(0,Math.min(e.currentItems.length+100,e.allItems.length));return o()(e,{currentItems:{$set:n}});case i.cc:var r=e.allItems.slice(0,Math.min(e.currentItems.length+100,e.allItems.length));return o()(e,{currentItems:{$set:r}});case i.Nc:return JSON.stringify(e.options)!==JSON.stringify(s)?o()(e,{options:{$set:s},optionChanged:{$set:JSON.stringify(e.options)!==JSON.stringify(s)},currentItems:{$set:[]}}):e;default:return e}}var c=n(2).c},1587:function(e,t,n){var r=n(1588),o=n(15);"string"==typeof r&&(r=[[e.i,r,""]]),e.exports=r.locals||{},e.exports._getContent=function(){return r},e.exports._getCss=function(){return r.toString()},e.exports._insertCss=function(e){return o(r,e)}},1588:function(e,t,n){(t=e.exports=n(14)(!1)).push([e.i,"@-webkit-keyframes _27AtU{0%{-webkit-transform:scale(.8);transform:scale(.8);opacity:0}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@keyframes _27AtU{0%{-webkit-transform:scale(.8);transform:scale(.8);opacity:0}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@media (max-width:959px){._3ubV4>div:nth-last-child(-n+84){display:none}}@media (max-width:599px){._3ubV4>div:nth-last-child(-n+88){display:none}}",""]),t.locals={customcontainermaxwidth:"1280px",mangaGrid:"_3ubV4",menuAnimation:"_27AtU"}},518:function(e,t,n){"use strict";n.r(t);var r,o=n(0),i=n.n(o),s=n(259),a=n.n(s),c=n(349),l=n(67),u=n(88),p=n(8),f=n(6),d=n.n(f),h=n(10),m=n.n(h),g=n(28),v=n.n(g),b=n(51),y=n(72),O=n(348),S=n(1128),F=n(1135),x=n(1235),w=n(1442),I=n(1164),R=n(1152),L=n(1143),k=n(1144),_=n(2),j=n(1172),E=n(1587),A=n.n(E),T=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var i=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var a in i)void 0===t[a]&&(t[a]=i[a]);else t||(t=i||{});if(1===s)t.children=o;else if(s>1){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+3];t.children=c}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),P=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function $(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,i){try{var s=t[o](i),a=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)});e(a)}("next")})}}var C=T(y.c,{},void 0,T(y.a,{xs:12},void 0,T(R.a,{}))),N=T(L.a,{}),M=T(k.a,{}),U=T(I.a,{}),J=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return D.call(n),n.state={isMobile:Object(p.n)(),filterExpanded:!1,currentSelected:a()(n.props.options)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),P(t,[{key:"render",value:function(){var e=[{label:"Sort by",options:[{value:"rank",label:"Rank"},{value:"name",label:"Name"}],defaultValue:this.props.options.order,onChange:this.onSortBy}],t=this.props.options.genres,n="";if(Object.values(t).length>0)if(Object.values(t).length>1)n="Filtered";else{var r=0;for(var o in t){if(r>=1)return;var i=this.props.genreObjectList,s=void 0===i?{}:i;t[o]&&s[o]&&(n=s[o].name,r++)}}return T(y.b,{},void 0,this.state.isMobile&&!this.props.isSubscriber&&C,T(y.c,{},void 0,T(y.a,{xs:12,lg:this.props.isSubscriber?12:8},void 0,T(O.a,{},void 0,T(S.b,{className:"m-b-20",tag:S.a.H1},void 0,"All ",n," Manga"),T(w.a,{genres:this.props.genres,loading:!1,expanded:this.state.filterExpanded,onApply:this.onApplyFilter,onToggle:this.onToggleFilter,onGenreChange:this.onFilterGenreChange,onStatusChange:this.onFilterStatusChange,onRankChange:this.onFilterRankChange,onRemoveGenresFilter:this.onFilterRemoveGenre,onRemoveStatusFilter:this.onFilterRemoveStatus,onRemoveRankFilter:this.onFilterRemoveRank,onReset:this.onFilterReset,currentSelected:this.state.currentSelected,currentFilter:this.props.options,defaultOptions:j.DEFAULT_FILTER_OPTIONS,comboBoxes:e}),T(S.b,{className:"m-b-20",tag:S.a.HEADLINE},void 0,this.props.isLoading?"Filtering":this.props.totalItems+" manga"),T(x.a,{items:this.props.currentItems,isLoading:this.props.isLoading,meta:this.props.meta,showAll:!this.props.havingMore,small:!0,className:A.a.mangaGrid}),this.props.havingMore&&!this.props.isLoadingInfo?T(F.a,{rootClass:"show-more-btn",onClick:this.onLoadMore}):null),!this.state.isMobile&&!this.props.isSubscriber&&N),!this.props.isSubscriber&&T(y.a,{xs:12,lg:4},void 0,!this.state.isMobile&&M,U)))}}]),t}();J.contextTypes={store:d.a.object},J.defaultProps={options:j.DEFAULT_FILTER_OPTIONS,genres:[],totalItems:0,isLoading:!1,isLoadingInfo:!1,currentItems:[],meta:{},havingMore:!1};var D=function(){var e=this;this.componentWillReceiveProps=function(t){e.setState({currentSelected:a()(t.options),filterExpanded:!1})},this.onSortBy=function(t){var n=e.props.options,r=a()(n);r.order=t.target.value,e.props.onApplyFilterOptions(e.context.store,r)},this.onJumpTo=function(){},this.onToggleFilter=function(){var t=e.state.filterExpanded;e.setState({filterExpanded:!t})},this.onFilterGenreChange=function(t,n){var r=n["data-oid"],o=a()(e.state);0===t?delete o.currentSelected.genres[r]:o.currentSelected.genres[r]=1===t,e.setState(o)},this.onFilterReset=function(){e.props.onResetFilterOptions(e.context.store),e.setState({filterExpanded:!1})},this.onFilterStatusChange=function(t){var n=m()(e.state,{currentSelected:{status:{$set:t}}});e.setState(n)},this.onFilterRankChange=function(t){var n=m()(e.state,{currentSelected:{rank:{$set:t}}});e.setState(n)},this.onFilterRemoveGenre=function(t){var n=e.props.options,r=a()(n);delete r.genres[t],e.props.onApplyFilterOptions(e.context.store,r)},this.onFilterRemoveStatus=function(){var t=e.props.options,n=a()(t);n.status=j.DEFAULT_FILTER_OPTIONS.status,e.props.onApplyFilterOptions(e.context.store,n)},this.onFilterRemoveRank=function(){var t=e.props.options,n=a()(t);n.rank=j.DEFAULT_FILTER_OPTIONS.rank,e.props.onApplyFilterOptions(e.context.store,n)},this.onApplyFilter=function(){e.props.onApplyFilterOptions(e.context.store,e.state.currentSelected)},this.onLoadMore=function(){e.props.onLoadMore(e.context.store)},this.getPriorityProps=function(){return["isLoading","isLoadingInfo"]}},G=v()(A.a)(Object(b.a)(function(e){var t=e[_.c].currentItems||[],n=Object(l.c)(t,null,e),r=Object(l.a)(n),o=Object(l.c)(r,null,e),i=t.length<(e[_.c].allItems||[]).length,s=e[_.i]||[],a={};return s.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a[e.oid]={name:e.name}}),{genres:s,genreObjectList:a,options:e[_.c].options,isLoading:!0===e[_.c].isLoading,isLoadingInfo:!0===e[_.r].isLoading,currentItems:t,havingMore:i,meta:o,totalItems:e[_.c].allItems&&e[_.c].allItems.length||0,isSubscriber:Object(p.p)(e)}},function(e){return{onLoadMore:function(){e(Object(c.d)())},onApplyFilterOptions:(n=$(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(c.s)(r)),t.next=3,new Promise(function(t){return e(Object(c.f)(t))});case 3:e(Object(c.d)());case 4:case"end":return t.stop()}},t,void 0)})),function(e,t){return n.apply(this,arguments)}),onResetFilterOptions:(t=$(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(c.p)()),t.next=3,new Promise(function(t){return e(Object(c.f)(t))});case 3:e(Object(c.d)());case 4:case"end":return t.stop()}},t,void 0)})),function(){return t.apply(this,arguments)})};var t,n})(J)),B=n(73);function V(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,i){try{var s=t[o](i),a=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)});e(a)}("next")})}}var q=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var a in i)void 0===n[a]&&(n[a]=i[a]);else n||(n=i||{});if(1===s)n.children=o;else if(s>1){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}()(G,{});t.default=function(){var e=V(regeneratorRuntime.mark(function e(t){var r,o,i=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(u.b)(t.store,n(1172)),r=t.store.dispatch,o=t.store,e.prev=3,e.next=6,Object(p.l)(t,[function(){var e=V(regeneratorRuntime.mark(function e(n){var s,u,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.query&&t.query.order&&((s=a()(j.DEFAULT_FILTER_OPTIONS)).order=t.query.order,r(Object(c.s)(s))),u=new Promise(function(e){r(Object(c.f)(e))}),e.next=4,u;case 4:0===(p=o.getState())[_.c].currentItems.length&&(r(Object(c.d)()),p=o.getState(),Object(l.d)(o,p[_.c].currentItems,n));case 6:case"end":return e.stop()}},e,i)}));return function(t){return e.apply(this,arguments)}}()],!s);case 6:r(Object(B.b)("allManga")),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(3),console.error(e.t0),e.t0;case 13:return e.abrupt("return",q);case 14:case"end":return e.stop()}},e,this,[[3,9]])}));return function(t){return e.apply(this,arguments)}}()}}]);